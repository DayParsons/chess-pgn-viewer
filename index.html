<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Chess PGN Viewer</title>
  <!-- Use jsDelivr instead of unpkg -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@lichess-org/pgn-viewer@1.6.0/dist/pgn-viewer.css">
  <style>
    #pgn-viewer {
      width: 100%;
      height: 500px;
      margin: 20px auto;
    }
    body {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      font-family: Arial, sans-serif;
    }
    textarea {
      width: 100%;
      height: 150px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>Chess PGN Viewer</h1>
  <div id="pgn-viewer"></div>
  <textarea id="pgn-input" placeholder="Paste PGN here">[Event "Test Game"]
[Site "GitHub Pages"]
[Date "2023.08.15"]
[Result "1-0"]

1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 d6 8. c3 O-O 9. h3 h6 10. d4 Re8 11. Nbd2 Bf8 12. Nf1 Bd7 13. Ng3 Na5 14. Bc2 c5 15. b3 Nc6 16. d5 Ne7 17. Be3 Ng6 18. Qd2 Nh7 19. a4 Nh4 20. Nxh4 Qxh4 21. Qe2 Qd8 22. b4 Qc7 23. Rec1 c4 24. Ra3 Rec8 25. Rca1 Qd8 26. f4 Nf6 27. fxe5 dxe5 28. Qf1 Nh7 29. Qf2 Ng5 30. Bxg5 hxg5 31. Qh2 Qe7 32. Qh6 f6 33. Rf1 Qf7 34. Rxf6 gxf6 35. Qxf6+ Qxf6 36. Rxf6 Kg7 37. Rxf8 Kxf8 38. axb5 axb5 39. Bxg8 Kxg8 40. dx6 1-0</textarea>
  <button id="load-btn">Load PGN</button>

  <!-- Use jsDelivr CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@lichess-org/pgn-viewer@1.6.0/dist/pgn-viewer.min.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize viewer with default PGN
      const viewer = PgnViewer({
        boardName: "pgn-viewer",
        pgn: document.getElementById('pgn-input').value,
        pieceTheme: 'wikipedia',
        showCoordinates: true,
        showPlayers: true
      });

      // Add load button functionality
      document.getElementById('load-btn').addEventListener('click', function() {
        viewer.setPgn(document.getElementById('pgn-input').value);
      });
      
      console.log("Chess viewer initialized successfully!");
    });
  </script>
</body>
</html>
